# JPA란
Java Persistence API의 줄임말로, 자바로 데이터베이스와 상호작용하는데 쓰이도록 만들어진 표준 인터페이스다. 보통 데이터베이스하면 쿼리문(SQL)을 많이 떠올리는데, 백엔드 구조를 코딩하면서 SQL의 매핑까지 고려하는 것은 너무 비효율적이라고 생각해 기존대로 객체지향적인 프로그래밍에 집중할 수 있으면서도 데이터베이스와 주고받는데 문제가 없도록 자동화시킨 툴이라고 보면된다. 레코드를 직접 접근하거나 쿼리문을 직접 작성할 일이 거의 없이 객체를 만들어 그걸 데이터베이스에 레코드로 전달, 반대로는 가져올때 자바 객체로 바꿔 가져올 수 있다.
>**JPA의 중요 개념 3가지**
1. 엔티티
2. 영속성 컨텍스트
3. ORM(Object-Relational Mapping)

1번은 위에서 말한 자바 객체가 데이터베이스에 편리하게 저장되기 위한 형태라고 보면되고, 3번도 위에서 말한 JPA의 근본적인 특성을 반영한 기능이다.
2번이 뭐냐 할 수 있는데, 여기서 스프링 컨테이너와 빈의 관계를 떠올리면 편하다.
둘다 엔티티와 빈의 생명주기를 관리하고, 상태를 자동업데이트와 자동 의존성 주입으로 관리하며, 각 객체간의 의존성 관리를 하기도 하고, 엔티티의 어노테이션이나 빈의 xml같이 설정구성이 등록되어있다.
>**영속성 컨텍스트를 쓰는 이유**
1. 엔티티에 **생명주기 부여**(_영속,준영속,비영속,삭제_)하여 효율적 관리
2. **1차 캐시**로 성능 최적화(ex - 자주 불리는 엔티티 저장 등)
3. 변경 감지: 상태 자동 추적으로 변경이 일어날 때마다 **UPDATE**
4. 쓰기 지연: 엔티티를 수정하거나 삽입할때가 아니라 **트랜잭션이 커밋될때** 이를 한번에 묶어서 쿼리문을 날림 -> 성능최적화
5. 동일성 보장이 되어 같은 엔티티는 무조건 **같은 객체(인스턴스) 반환**